\newpage
\section*{Problem 3}

\subsection*{Question 3.1}
Refuting the validity of the formular, we negate the formular and try to find counter example.

The clausal form (PCNF) of the formular is found using skolemization:

\begin{center}
    \begin{tabular}{ clr }
        $\neg (\exists x \forall y p(x,y) \to \forall y \exists x p(x,y))$ \\
        & $\equiv \neg (\neg (\exists x \forall y p(x,y)) \lor \forall y \exists x p(x,y) )$ \\ 
        & $\equiv \neg \neg (\exists x \forall y p(x,y)) \land \neg (\forall y \exists x p(x,y))$ \\ 
        & $\equiv \exists x \forall y p(x,y) \land \neg (\forall y \exists x p(x,y))$ \\ 
        & $\equiv \exists x \forall y p(x,y) \land \exists y \forall x \neg p(x,y))$ \\
        & $\equiv \exists x_1 \forall y_1 p(x_1,y_1) \land \exists y_2 \forall x_2 \neg p(x_2,y_2))$ \\
        & $\equiv \exists x_1 \forall y_1 \exists y_2 \forall x_2 (p(x_1,y_1) \land \neg p(x_2,y_2)))$ \\
        & $\equiv \forall y_1 \exists y_2 \forall x_2 (p(a,y_1) \land \neg p(x_2,y_2)))$ \\
        & $\equiv \forall y_1 \forall x_2 (p(a,y_1) \land \neg p(x_2,f(y_1))))$ \\
    \end{tabular}
\end{center}
The 2 clauses are now clear:
$$[p(a,y_1)] , [\neg p(x_2, f(y_1))]$$

The clauses do not clash, but as the prenex conjunctive normal form is used, a unification with the following substitution can be used to get the most general unifier:
$$\{ a \leftarrow x_2, y_1 \leftarrow f(y_1) \}$$
The clauses become clashing literals:
$$[p(a, y_1)] , [\neg p(a, y_1)]$$
Immedietly, it should be clear that the empty clause can be derived from the 2 clashing clauses, thus making the formular unsatisfiable.
But as the formular was refuted by negation, the contradiction becomes a tautology and the original formular is therefor valid.

\newpage
\subsection*{Question 3.2}
Refuting the validity of the formular, we negate the formular and try to find counter example.

The clausal form (PCNF) of the formular is found using skolemization:

\begin{center}
    \begin{tabular}{ clr }
        & $\neg ((\forall x (p(x) \to \neg \exists y q(y,x))) \to (p(a) \to \neg q(a,a)))$ \\
        & $\equiv \neg (\neg \forall x (p(x) \to \neg \exists y q(y,x))) \lor (p(a) \to \neg q(a,a)) )$ \\ 
        & $\equiv \neg (\neg \forall x (p(x) \to \neg \exists y q(y,x))) \lor (\neg p(a) \lor \neg q(a,a)) )$ \\
        & $\equiv \neg (\neg \forall x (\neg p(x) \lor \neg \exists y q(y,x))) \lor (\neg p(a) \lor \neg q(a,a)) )$ \\
        & $\equiv (\neg \neg \forall x (\neg p(x) \lor \neg \exists y q(y,x))) \land \neg (\neg p(a) \lor \neg q(a,a)) )$ \\
        & $\equiv (\forall x (\neg p(x) \lor \forall y \neg q(y,x))) \land p(a) \land q(a,a))$ \\
        & $\equiv \forall x \forall y ((\neg p(x) \lor \neg q(y,x)) \land p(a) \land q(a,a)))$ \\
    \end{tabular}
\end{center}
The 3 clauses are now clear:
$$[\neg p(x), \neg q(y,x)] , [p(a)] , [q(a,a)]$$
As the prenex conjunctive normal form is used, a unification with the following substitution can be used to get the most general unifier:
$$\{ a \leftarrow x , a \leftarrow y \}$$
Then the set of clauses becomes:
$$\{[\neg p(a), \neg q(a,a)] , [p(a)] , [q(a,a)]\}$$
Resolution is then used with the clauses:
\begin{center}
    \begin{tabular}{ clr }
        1. & $\neg p(a), \neg q(a,a)$ & \\
        2. & $p(a)$ & \\
        3. & $q(a,a)$ & \\
        4. & $\neg q(a,a)$ & 1,2 \\
        5. & $\square$ & 3,4 \\
    \end{tabular}
\end{center}
The empty clause $\square$ is reached. The formular is unsatisfiable, and with refutation the original formular is then valid.

\newpage
\subsection*{Question 3.3}
Refuting the validity of the formular, we negate the formular and try to find counter example.

The clausal form (PCNF) of the formular is found using skolemization:

\begin{center}
    \begin{tabular}{ clr }
        & $\neg ((\forall x p(x) \land \forall x q(x)) \to \forall x (p(x) \land q(x)))$ \\
        & $\equiv \neg ((\forall x_1 p(x_1) \land \forall x_2 q(x_2)) \to \forall x_3 (p(x_3) \land q(x_3)))$ \\
        & $\equiv \neg (\neg (\forall x_1 p(x_1) \land \forall x_2 q(x_2)) \lor \forall x_3 (p(x_3) \land q(x_3)))$ \\
        & $\equiv (\neg \neg (\forall x_1 p(x_1) \land \forall x_2 q(x_2)) \land \neg \forall x_3 (p(x_3) \land q(x_3)))$ \\
        & $\equiv ((\forall x_1 p(x_1) \land \forall x_2 q(x_2)) \land \neg \forall x_3 (p(x_3) \land q(x_3)))$ \\
        & $\equiv ((\forall x_1 p(x_1) \land \forall x_2 q(x_2)) \land \exists x_3 \neg (p(x_3) \land q(x_3)))$ \\
        & $\equiv ((\forall x_1 p(x_1) \land \forall x_2 q(x_2)) \land \exists x_3 (\neg p(x_3) \lor \neg q(x_3)))$ \\
        & $\equiv \exists x_3 \forall x_1 \forall x_2 (p(x_1) \land q(x_2) \land (\neg p(x_3) \lor \neg q(x_3)))$ \\
        & $\equiv \forall x_1 \forall x_2 (p(x_1) \land q(x_2) \land (\neg p(a) \lor \neg q(a)))$ \\
    \end{tabular}
\end{center}
The 3 clauses are now clear:
$$[p(x_1)] , [q(x_2)] , [\neg p(a) , \neg q(a)]$$
As the prenex conjunctive normal form is used, a unification with the following substitution can be used to get the most general unifier:
$$\{ a \leftarrow x_1 , a \leftarrow x_2 \}$$
Then the set of clauses becomes:
$$\{[p(a)] , [q(a)] , [\neg p(a) , \neg q(a)]\}$$
Resolution is then used with the clauses:
\begin{center}
    \begin{tabular}{ clr }
        1. & $p(a)$ & \\
        2. & $q(a)$ & \\
        3. & $\neg p(a) , \neg q(a)$ & \\
        4. & $\neg q(a)$ & 1,3 \\
        5. & $\square$ & 2,4 \\
    \end{tabular}
\end{center}
The empty clause $\square$ is reached. The formular is unsatisfiable, and with refutation the original formular is then valid.

\newpage
\subsection*{Question 3.4}
Refuting the validity of the formular, we negate the formular and try to find counter example.

The clausal form (PCNF) of the formular is found using skolemization:

\begin{center}
    \begin{tabular}{ clr }
        & $\neg ((\forall x \exists y (p(x) \land \neg p(y))) \to \neg q(a))$ \\
        & $\equiv \neg (\neg (\forall x \exists y (p(x) \land \neg p(y))) \lor \neg q(a))$ \\
        & $\equiv \neg \neg (\forall x \exists y (p(x) \land \neg p(y))) \land \neg \neg q(a))$ \\
        & $\equiv \forall x \exists y (p(x) \land \neg p(y)) \land q(a))$ \\
        & $\equiv \forall x \exists y (p(x) \land \neg p(y) \land q(a))$ \\
        & $\equiv \forall x (p(x) \land \neg p(f(x)) \land q(a))$ \\
    \end{tabular}
\end{center}
The 3 clauses are now clear:
$$[p(x)] , [\neg p(f(x))] , [q(a)]$$
As the prenex conjunctive normal form is used, a unification with the following substitution can be used to get the most general unifier:
$$\{ x \leftarrow f(x)\}$$
Then the set of clauses becomes:
$$\{ [p(x)] , [\neg p(x)] , [q(a)] \}$$
Resolution is then used with the clauses:
\begin{center}
    \begin{tabular}{ clr }
        1. & $p(x)$ & \\
        2. & $\neg p(x)$ & \\
        3. & $q(a)$ & \\
        4. & $\square$ & 1,2 \\
    \end{tabular}
\end{center}
The empty clause $\square$ is reached. The formular is unsatisfiable, and with refutation the original formular is then valid.
